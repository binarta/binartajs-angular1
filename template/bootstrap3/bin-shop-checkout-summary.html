<div ng-init="checkout.$onInit()">
    <h1>Checkout: {{checkout.status()}}</h1>
    <bin-checkout-roadmap></bin-checkout-roadmap>
    <div class="bin-shop" ng-init="checkout.setPaymentProvider('wire-transfer')">
        <div class="container">
            <div class="row">
                <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2">
                    <bin-user-profile></bin-user-profile>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-5 col-sm-offset-1 col-lg-4 col-lg-offset-2">
                    <bin-address purpose="billing" label="{{::checkout.order().billing.label}}"></bin-address>
                </div>
                <div class="col-xs-12 col-sm-5 col-lg-4">
                    <bin-address purpose="shipping" label="{{::checkout.order().shipping.label}}"></bin-address>
                </div>
            </div>
            <div class="row">
                <bin-basket mode="summary" order="checkout.order()"></bin-basket>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2">
                    <div class="panel panel-default">
                        <div class="panel-heading" i18n code="shop.payment.method.panel.title" read-only>
                            <i class="fa fa-credit-card-alt fa-fw"></i> {{::var}}
                        </div>
                        <div class="panel-body">
                            <div ng-repeat="method in ppoc.availablePaymentMethods">
                                <div class="radio">
                                    <label i18n code="purchase.orders.payment.method.{{::method}}" read-only>
                                        <input type="radio" name="availablePaymentMethods" ng-value="::method" ng-model="ppoc.form.paymentProvider">
                                        {{::var}}
                                    </label>

                                    <small i18n code="shop.payment.wire.transfer.restriction.message" read-only ng-if="::method == 'wire-transfer'">
                                        - {{::var}}
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2">
                    <div class="terms-agreement-message">
                        <small ng-init="ppoc.form.termsAndConditions = 'accepted'"
                               i18n code="shop.confirm.terms.message" read-only>
                            <i class="fa fa-info-circle fa-fw"></i> {{::var}}
                        </small>
                    </div>
                </div>
            </div>
            <div class="row" ng-repeat="v in violations.provider" ng-show="violations.provider && v.code == 'insufficient.funds.available'">
                <div class="col-xs-12 col-md-10 col-md-offset-1">
                    <div class="panel panel-danger">
                        <div class="panel-heading" i18n code="order.summary.insufficient.funds.available" default="insufficient.funds.available" read-only ng-bind="::var">
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-10 col-sm-offset-1 col-lg-8 col-lg-offset-2">
                    <hr>
                    <a ng-href="#!{{localePrefix}}/checkout/address" class="btn btn-default"
                       i18n code="shop.back.button" read-only>
                        <i class="fa fa-caret-left fa-fw"></i> {{::var}}
                    </a>

                    <button class="btn btn-success pull-right" i18n code="shop.confirm.button" read-only
                            ng-click="submit()"
                            ng-disabled="working || ppoc.form.termsAndConditions == 'rejected'">
                        <span ng-hide="working"><i class="fa fa-check fa-fw"></i></span>
                        <span ng-show="working"><i class="fa fa-spinner fa-spin fa-fw"></i></span>
                        {{::var}}
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>